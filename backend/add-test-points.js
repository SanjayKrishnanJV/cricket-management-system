const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function addTestPoints() {
  try {
    // Get first match
    const match = await prisma.match.findFirst();

    if (!match) {
      console.log('‚ùå No matches found in database');
      return;
    }

    console.log(`‚úÖ Found match: ${match.id}`);

    // Create some test talking points
    const points = [
      {
        matchId: match.id,
        category: 'STAT',
        priority: 9,
        headline: 'Record Partnership Building',
        description: 'Current partnership is approaching the highest for this venue',
        isAutoGenerated: true,
        autoGenReason: 'high_partnership'
      },
      {
        matchId: match.id,
        category: 'MILESTONE',
        priority: 8,
        headline: 'Batsman Approaching Fifty',
        description: 'The current batsman is on 47 runs and approaching a half-century',
        isAutoGenerated: true,
        autoGenReason: 'milestone_approaching'
      },
      {
        matchId: match.id,
        category: 'PREDICTION',
        priority: 7,
        headline: 'Momentum Shift Expected',
        description: 'Run rate needs to increase by 2 runs per over in the final 5 overs',
        isAutoGenerated: true,
        autoGenReason: 'run_rate_pressure'
      }
    ];

    for (const point of points) {
      await prisma.talkingPoint.create({ data: point });
      console.log(`‚úÖ Created: ${point.headline}`);
    }

    console.log('\nüéâ Test talking points created successfully!');
    console.log(`Match ID: ${match.id}`);

  } catch (error) {
    console.error('‚ùå Error:', error.message);
  } finally {
    await prisma.$disconnect();
  }
}

addTestPoints();
